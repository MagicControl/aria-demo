{"version":3,"file":"static/webpack/static/development/pages/index.js.e6b1690ce65976d7a120.hot-update.js","sources":["webpack:///./shared/components/Dropdown.js"],"sourcesContent":["import React, { useState, useRef } from 'react';\nimport cn from 'classnames';\n\nexport const Dropdown = ({ values, selectedValue, label, setValue }) => {\n    const dropdownRef = useRef();\n    const selectedIndex = selectedValue ? values.indexOf(selectedValue) : 0;\n    const [expanded, setExpanded] = useState(false);\n    const [focus, setFocus] = useState(selectedIndex);\n    const show = () => setExpanded(true);\n    const hide = () => {\n        setExpanded(false);\n    };\n    const handleKeyPress = e => {\n        const { keyCode } = e;\n        if (keyCode === 38) {\n            setFocus(focus ? focus - 1 : values.length - 1);\n            return;\n        }\n        if (keyCode === 40) {\n            setFocus((focus + 1) % values.length);\n            return;\n        }\n        if (keyCode === 13 || keyCode === 32) {\n            if (expanded) {\n                setValue(values[focus]);\n                hide();\n                dropdownRef.current.focus();\n            } else {\n                show();\n            }\n        }\n    };\n\n    const handleClick = e => setValue(e.target.dataset.item);\n\n    return (\n        <div\n            className=\"dropdown\"\n            role=\"dropdown\"\n            tabIndex=\"0\"\n            aria-labelledby=\"2\"\n            aria-activedescendant={expanded ? values[focus] : null}\n            onClick={show}\n            onKeyUp={handleKeyPress}\n            onBlur={hide}\n            ref={dropdownRef}\n            aria-haspopup=\"listbox\"\n        >\n            <div className=\"title\">\n                <span id=\"2\">{label}</span>\n            </div>\n            <div\n                className={`list${!expanded ? ' hidden' : ''}`}\n                aria-hidden={!expanded}\n                role=\"listbox\"\n            >\n                <ul>\n                    {values.map((item, i) => (\n                        <li\n                            id={item}\n                            key={item}\n                            tabIndex={-1}\n                            data-item={item}\n                            role=\"option\"\n                            aria-selected={selectedValue === item}\n                            className={cn({\n                                selected: selectedValue === item,\n                                hovered: values[focus] === item,\n                            })}\n                            onMouseDown={handleClick}\n                        >\n                            item {item}\n                        </li>\n                    ))}\n                </ul>\n            </div>\n            <style jsx>{`\n                .dropdown {\n                    width: 350px;\n                    border-radius: 5px;\n                    background-color: white;\n                }\n\n                .title {\n                    width: 100%;\n                    padding: 10px;\n                }\n\n                .list {\n                    border-top: 1px solid grey;\n                }\n\n                ul {\n                    list-style-type: none;\n                    margin: 0;\n                    padding: 0;\n                }\n\n                li {\n                    padding: 5px 7px;\n                }\n\n                li.selected {\n                    color: green;\n                }\n\n                li.hovered,\n                li:hover {\n                    background-color: black;\n                    color: white;\n                }\n\n                .hidden {\n                    display: none;\n                }\n            `}</style>\n        </div>\n    );\n};\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAIA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAVA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAKA;AAXA;AAQA;AACA;AAFA;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AArBA;AAAA;AAAA;AAkFA;;;;A","sourceRoot":""}